<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>인증번호 만들어 발송하기</title>
    <script src="./jquery.js"></script>
    <script src="./jquery-ui.js"></script>
    <link rel="stylesheet" type="text/css" href="./jquery-ui.css?v=1" />
    <script>
      $(document).ready(function () {
        let $url = location.search;
        console.log($url);
        // ?company=KT&num1=010&num2=7200&submitBtn=%EC%9D%B8%EC%A6%9D%EB%B0%9C%EC%86%A1
        let $com = $url.split("?company=");
        let $onlyCom = $com[1].split("&");
        let $num1 = $url.split("&num1=");
        let $onlyNum1 = $num1[1].split("&");
        let $num2 = $url.split("&num2=");
        let $onlyNum2 = $num2[1].split("&");
        let $num3 = $url.split("&num3=");
        let $onlyNum3 = $num3[1].split("&");
        $("#numberBox").text(
          $onlyCom[0] +
            " " +
            $onlyNum1[0] +
            "-" +
            $onlyNum2[0] +
            "-" +
            $onlyNum3[0]
        );

        // 인증번호 생성해서 보내기
        $("#form2").submit(function () {
          let $getN = Number($("#getNum").val());
          if (isNaN($getN) == true) {
            $("#getNum").val("");
            alert("숫자만 입력하세요.");
            $("#getNum").focus();
          } else if ($("#getNum").val().length !== 6) {
            alert("인증번호 6자리를 보내주세요.");
            return false;
          } else {
            confirm("인증번호" + $getN + "를 보냅니다.");
            return true;
          }
          return false;
        });
      });
    </script>
  </head>
  <body>
    <div id="numberBox"></div>
    <form action="./get3.html" method="GET" id="form2">
      <input type="text" name="getNum" id="getNum" maxlength="6" />
      <input type="submit" id="subBtn" />
    </form>
  </body>
</html>
